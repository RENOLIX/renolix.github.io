<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RENOLIX - Réalisations</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
<style>
body {margin:0;font-family:'Montserrat',sans-serif;background:#fff;color:#222;}

/* HEADER */
header {
  display:flex;align-items:center;justify-content:space-between;
  padding:5px 20px;height:60px;position:fixed;width:100%;top:0;z-index:1000;
  background:rgba(255,255,255,0.95);box-shadow:0 2px 10px rgba(0,0,0,0.1);
}
.logo-container {display:flex;align-items:center;}
.logo-container img{width:50px;height:auto;}
.header-center {position: absolute; left: 46%; letter-spacing: 2px; transform: translateX(-50%); text-align: center;}
.header-center a { text-decoration: none; }
.header-center h1 {
  margin:0;font-size:28.5px;font-family:'Playfair Display', serif;font-weight:700;
  background: linear-gradient(-45deg,#000 20%,#d4af37 50%,#000 80%);
  background-size:200% 200%;-webkit-background-clip:text;-webkit-text-fill-color:transparent;
  animation: luxuryShine 2.2s linear infinite;
}
@keyframes luxuryShine {0% {background-position:200% 0;}100% {background-position:-200% 0;}}
.menu { display:flex; align-items:center; padding-right:25px; }

/* IMPORTANT: nav du header uniquement */
header nav { display:flex; gap:15px; align-items:center; }
header nav a { color:#222; text-decoration:none; font-weight:500; transition:.3s; }
header nav a:hover { color:#d4af37; }

/* Bouton Connexion */
.connexion-btn {
  display:inline-block;background:linear-gradient(90deg,#d4af37,#b8860b);color:#fff !important;
  font-weight:bold;padding:8px 18px;border-radius:20px;text-decoration:none;margin-top:10px;
  transition:0.3s;text-align:center;
}
.connexion-btn:hover { box-shadow:0 0 15px #d4af37; }

/* Hamburger */
.menu-toggle { display:none; flex-direction:column; cursor:pointer; padding:8px; margin-right:10px; }
.menu-toggle div { width:25px; height:3px; background:#222; margin:4px 0; transition:0.3s; }

/* Submenu animation */
@keyframes submenuSlide {0%{opacity:0;transform:translateY(-10px);}100%{opacity:1;transform:translateY(0);}}

/* Mobile */
@media(max-width:768px){
  header nav {
    position:absolute; top:60px; right:10px; width:220px; flex-direction:column; display:none;
    padding:15px 20px; background: rgba(255,255,255,0.3); backdrop-filter: blur(12px);
    border: 2px solid #d4af37; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.25); z-index: 1050;
    transition: all 0.4s ease;
  }
  header nav.active {display:flex; flex-direction:column;}
  header nav a { margin:5px 0; padding:10px 15px; font-weight: 600; color:#222; text-transform: uppercase;
          letter-spacing: 1px; border-radius: 10px; transition: all 0.3s ease; }
  header nav a:hover { background: linear-gradient(90deg,#d4af37,#ffd700); color:#fff; 
               box-shadow: 0 0 10px #ffd700, 0 0 20px #d4af37; }
  .submenu { display:none; flex-direction:column; padding-left:15px; margin-top:5px; border-left:2px solid #d4af37; }
  .submenu a { padding:8px 15px; font-weight: 500; border-radius: 8px; transition: all 0.3s ease; }
  .submenu a:hover { background: linear-gradient(90deg,#ffd700,#d4af37); color:#222; 
                     box-shadow: 0 0 8px #ffd700, 0 0 15px #d4af37; }
  .menu-toggle {display:flex;}
}

/* Section */
section { padding:40px 10%; }
h2 { color:#d4af37; text-align:center; margin-bottom:25px; }
.gallery { display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:15px; }
.gallery img {
  width:100%;
  height:auto;
  max-height:500px;
  object-fit:contain;
  border-radius:12px;
  transition:.3s;
  box-shadow:0 8px 18px rgba(0,0,0,0.15);
}
.gallery img:hover { transform:scale(1.05); box-shadow:0 12px 25px rgba(0,0,0,0.2); }

/* Footer */
footer { background:#f9f9f9; padding:25px; text-align:center; color:#555; font-size:14px; border-top:1px solid #eee; }
footer a { color:#d4af37; text-decoration:none; margin:0 10px; }

/* PROFILE MENU */
.profile {position:relative;margin:0 8px 0 6px;z-index:1100;}
.profile-btn {
  width:38px;height:38px;border-radius:50%;border:2px solid transparent;
  background:linear-gradient(#fff,#fff) padding-box,linear-gradient(90deg,#d4af37,#b8860b) border-box;
  display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all 0.3s ease;
}
.profile-btn:hover {box-shadow:0 0 12px rgba(212,175,55,0.8);transform:translateY(-2px);}
.profile-btn svg {width:20px;height:20px;fill:#b8860b;}
.profile-dropdown {
  position:absolute;top:46px;right:0;min-width:230px;background:rgba(255,255,255,0.92);
  backdrop-filter:blur(12px);border:2px solid #d4af37;border-radius:14px;
  box-shadow:0 10px 25px rgba(0,0,0,0.2);padding:8px;display:none;
}
.profile-dropdown.open {display:block;animation:submenuSlide 0.25s ease forwards;}
.profile-email {font-size:13px;color:#444;margin:4px 8px 8px;padding:6px 8px;background:#faf7ef;border:1px dashed rgba(212,175,55,0.5);border-radius:8px;}
.profile-item {display:flex;align-items:center;gap:10px;padding:10px;border-radius:10px;color:#222;text-decoration:none;font-weight:600;transition:all 0.3s ease;}
.profile-item:hover {background:linear-gradient(90deg,#ffd700,#d4af37);color:#fff;box-shadow:0 0 10px #ffd700,0 0 18px #d4af37;}
.profile-divider {height:1px;margin:6px 4px;background:linear-gradient(90deg,transparent,#d4af37,transparent);}
.hidden {display:none;}
</style>
</head>
<body>

<header>
  <div class="logo-container">
    <img src="https://i.postimg.cc/hjNvjvcc/Logo-Cosm-tiques-Minimaliste-Luxe-Noir-Blanc-Dor-20250711-192039-0000.png" alt="Logo Renolix">
  </div>
  <div class="header-center"><a href="index.html"><h1>RENOLIX</h1></a></div>
  <div class="menu">
    <nav id="nav-links">
      <a href="index.html">Accueil</a>
      <div>
        <a href="#" id="realisations-btn">Réalisations ▼</a>
        <div class="submenu" id="realisations-submenu">
          <a href="placo-platre.html">Placo & Plâtre</a>
          <a href="Peinture.html">Peinture</a>
          <a href="dalle-de-sol.html">Dalle de sol</a>
          <a href="Plomberie.html">Plomberie</a>
          <a href="électricité.html">Électricité</a>
          <a href="cuisine-&-dressing.html">Cuisine & Dressing</a>
        </div>
      </div>
      <a href="devis-gratuit.html">Devis Gratuit</a>
      <a href="à-propos.html">À propos</a>
      <a href="contact.html">Contact</a>
      <!-- Devient Déconnexion après login -->
      <a href="login.html" id="navAuthLink" class="connexion-btn" data-mode="login">Connexion</a>
    </nav>

    <!-- Icône Profil (entre le titre RENOLIX et le hamburger) -->
    <div class="profile" id="profile">
      <button class="profile-btn" id="profileButton" aria-label="Ouvrir le menu profil" aria-haspopup="menu" aria-expanded="false">
        <svg viewBox="0 0 24 24" aria-hidden="true">
          <path d="M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5Zm0 2c-4.42 0-8 2.69-8 6v1h16v-1c0-3.31-3.58-6-8-6Z"></path>
        </svg>
      </button>
      <div class="profile-dropdown" id="profileDropdown" role="menu" aria-hidden="true">
        <!-- État connecté -->
        <div id="profile-logged-in" class="hidden">
          <div class="profile-email"><strong>Email:</strong> <span id="profileEmail"></span></div>
          <a href="profil.html" class="profile-item" role="menuitem">Profil</a>
          <a href="parametres.html" class="profile-item" role="menuitem">Paramètres</a>
          <div class="profile-divider"></div>
          <a href="#" id="logoutBtn" class="profile-item" role="menuitem">Déconnexion</a>
        </div>
        <!-- État non connecté -->
        <div id="profile-logged-out" class="hidden">
          <a href="login.html" class="profile-item" role="menuitem">Connexion / Inscription</a>
        </div>
      </div>
    </div>

    <div class="menu-toggle" onclick="toggleMenu()">
      <div></div><div></div><div></div>
    </div>
  </div>
</header>

<section style="margin-top:80px;">
  <h2>Placo & Plâtre</h2>
  <div class="gallery">
    <img src="https://i.ibb.co/yn41m2h1/Photo-Room-20250720-231259.png" alt="Projet 1">
    <img src="https://i.ibb.co/ZpKsdQrb/Photo-Room-20250720-225919.png" alt="Projet 2">
    <img src="https://i.ibb.co/SDXYnYt7/Photo-Room-20250720-231314.png" alt="Projet 3">
    <img src="https://i.ibb.co/8DLGQYQk/Photo-Room-20250720-231410.png" alt="Projet 4">
    <img src="https://i.ibb.co/hxM6mcv9/Photo-Room-20250720-231215.png" alt="Projet 5">
    <img src="https://i.ibb.co/x8H9St6G/Photo-Room-20250720-231232.png" alt="Projet 6">
    <img src="https://i.ibb.co/nqY8cGCw/Photo-Room-20250720-225837.png" alt="Projet 7">
    <img src="https://i.ibb.co/qFPPPpXr/Photo-Room-20250723-043432.png" alt="Projet 8">
    <img src="https://i.ibb.co/zTWrfdnv/Photo-Room-20250723-043649.png" alt="Projet 9">
    <img src="https://i.ibb.co/KnN5VRQ/Photo-Room-20250723-043618.png" alt="Projet 10">
    <img src="https://i.ibb.co/bj71pkJk/Photo-Room-20250720-231435.png" alt="Projet 11">
    <img src="https://i.ibb.co/m59kjGfK/Photo-Room-20250720-224922.png" alt="Projet 12">
    <img src="https://i.ibb.co/1JPrhTt5/Photo-Room-20250720-224907.png" alt="Projet 13">
    <img src="https://i.ibb.co/zVghfjYV/Photo-Room-20250720-223916.png" alt="Projet 14">
    <img src="https://i.ibb.co/hJJBqq6M/Photo-Room-20250720-222848.png" alt="Projet 15">
    <img src="https://i.ibb.co/hFmzXb28/Photo-Room-20250720-221835.png" alt="Projet 16">
    <img src="https://i.ibb.co/23qvvB1T/Photo-Room-20250720-221740.png" alt="Projet 17">
    <img src="https://i.ibb.co/HpYgcjpX/Photo-Room-20250720-221659.png" alt="Projet 18">
    <img src="https://i.ibb.co/F40HCS7N/Photo-Room-20250720-221608.png" alt="Projet 19">
    <img src="https://i.ibb.co/YFcsCLHg/Photo-Room-20250720-221557.png" alt="Projet 20">
    <img src="https://i.ibb.co/fdYMky9r/Photo-Room-20250720-221545.png" alt="Projet 21">
    <img src="https://i.ibb.co/whhjydFZ/Photo-Room-20250720-215311.png" alt="Projet 22">
    <img src="https://i.ibb.co/TMRC7t32/Photo-Room-20250720-215225.png" alt="Projet 23">
    <img src="https://i.ibb.co/GQ1jXYjp/Photo-Room-20250720-201415.png" alt="Projet 24">
    <img src="https://i.ibb.co/7tR7WS1s/Photo-Room-20250720-203656.png" alt="Projet 25">
    <img src="https://i.ibb.co/ZzpfJ3ts/Photo-Room-20250720-203642.png" alt="Projet 26">
    <img src="https://i.ibb.co/msj7CnG/Photo-Room-20250820-203415.png" alt="Projet 27">
    <img src="https://i.ibb.co/LDKYhBxy/Photo-Room-20250820-203443.png" alt="Projet 28">
    <img src="https://i.ibb.co/pjTgpszG/Photo-Room-20250820-203641.png" alt="Projet 29">
    <img src="https://i.ibb.co/KpYkJ2MY/Photo-Room-20250803-000227.png" alt="Projet 30">
  </div>
</section>

<footer>
  <p>&copy; 2025 RENOLIX. Tous droits réservés.</p>
  <p>
    <a href="https://www.instagram.com/renolix.dz?igsh=M3JsZXd0NTJjY3d6" target="_blank">Instagram</a> |
    <a href="https://www.facebook.com/share/1724QHzM9r/" target="_blank">Facebook</a> |
    <a href="https://wa.me/213542093648" target="_blank">WhatsApp</a>
  </p>
</footer>

<!-- Supabase -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
document.addEventListener('DOMContentLoaded', function(){
  // Supabase
  const { createClient } = supabase;
  const supabaseUrl = "https://kawlncpapaxdzjyhnhhz.supabase.co";
  const supabaseKey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imthd2xuY3BhcGF4ZHpqeWhuaGh6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY4NjkwMjEsImV4cCI6MjA3MjQ0NTAyMX0.jm-6Ll26WU-y0EMCBMR7Zv_aX7XU3iPomuMZNofps2U";
  const sb = createClient(supabaseUrl, supabaseKey);
  window._sb = sb; // pour la bottom-nav

  // Header/menu
  const nav = document.getElementById('nav-links');
  window.toggleMenu = function(){ if(nav){ nav.classList.toggle('active'); } };

  const submenuBtn = document.getElementById('realisations-btn');
  const submenu = document.getElementById('realisations-submenu');
  if(submenuBtn){
    submenuBtn.addEventListener('click', function(e){
      e.preventDefault();
      if(!submenu) return;
      submenu.style.display = (submenu.style.display === "flex" ? "none" : "flex");
      submenu.style.flexDirection = "column";
    });
  }

  // Profil dropdown
  const profileButton   = document.getElementById('profileButton');
  const profileDropdown = document.getElementById('profileDropdown');
  const loggedInBox     = document.getElementById('profile-logged-in');
  const loggedOutBox    = document.getElementById('profile-logged-out');
  const profileEmailEl  = document.getElementById('profileEmail');
  const logoutBtn       = document.getElementById('logoutBtn');

  function openProfile(){ profileDropdown.classList.add('open'); profileButton.setAttribute('aria-expanded','true'); profileDropdown.setAttribute('aria-hidden','false'); }
  function closeProfile(){ profileDropdown.classList.remove('open'); profileButton.setAttribute('aria-expanded','false'); profileDropdown.setAttribute('aria-hidden','true'); }
  function toggleProfile(){ profileDropdown.classList.contains('open') ? closeProfile() : openProfile(); }

  if(profileButton){ profileButton.addEventListener('click', (e)=>{ e.stopPropagation(); toggleProfile(); }); }
  document.addEventListener('click', (e)=>{ if(profileDropdown && !profileDropdown.contains(e.target) && e.target !== profileButton){ closeProfile(); }});
  document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape'){ closeProfile(); }});

  // Auth UI dropdown
  async function updateProfileUI(){
    try{
      const { data: { user } } = await sb.auth.getUser();
      if(user){
        loggedOutBox?.classList.add('hidden');
        loggedInBox?.classList.remove('hidden');
        if(profileEmailEl) profileEmailEl.textContent = user.email || '';
      }else{
        loggedInBox?.classList.add('hidden');
        loggedOutBox?.classList.remove('hidden');
        if(profileEmailEl) profileEmailEl.textContent = '';
      }
    }catch(err){
      console.error("Erreur récupération utilisateur:", err);
      loggedInBox?.classList.add('hidden');
      loggedOutBox?.classList.remove('hidden');
    }
  }

  // Header Connexion -> Déconnexion
  const navAuthLink = document.getElementById('navAuthLink');
  function closeMenu(){ nav && nav.classList.remove('active'); }

  function syncHeaderAuthLink(){
    if(!navAuthLink) return;
    sb.auth.getUser().then(({data:{user}})=>{
      // purge anciens listeners
      const clone = navAuthLink.cloneNode(true);
      navAuthLink.parentNode.replaceChild(clone, navAuthLink);
      const link = document.getElementById('navAuthLink');

      if(user){
        link.textContent = 'Déconnexion';
        link.setAttribute('href', '#');
        link.dataset.mode = 'logout';
        link.addEventListener('click', async (e)=>{
          e.preventDefault();
          await signOutAndGoHome();
        });
      }else{
        link.textContent = 'Connexion';
        link.setAttribute('href', 'login.html');
        link.dataset.mode = 'login';
      }
    });
  }

  async function signOutAndGoHome(){
    try{ await sb.auth.signOut(); }
    catch(err){ console.error('Erreur déconnexion:', err); }
    finally{
      closeProfile();
      closeMenu();
      location.replace('index.html'); // refresh + redirection
    }
  }

  if(logoutBtn){
    logoutBtn.addEventListener('click', async (e)=>{
      e.preventDefault();
      await signOutAndGoHome();
    });
  }

  // Init + écoute des changements
  updateProfileUI();
  syncHeaderAuthLink();
  sb.auth.onAuthStateChange((_event,_session)=>{
    updateProfileUI();
    syncHeaderAuthLink();
  });
});
</script>

<!-- === Bottom Nav RENOLIX (Accueil > Suivi > Devis > Profil/Se connecter) === -->
<style>
  :root{ --gold:#d4af37; --gold2:#ffd700; --ink:#222; --glass:rgba(255,255,255,0.92); }
  /* Espace pour ne pas masquer le contenu par la barre */
  body { padding-bottom: calc(88px + env(safe-area-inset-bottom)); }

  .bottom-nav{
    position:fixed; left:50%; transform:translateX(-50%);
    top:auto !important;
    bottom: calc(10px + env(safe-area-inset-bottom));
    width:min(900px, calc(100% - 20px));
    height:68px;
    display:grid; grid-template-columns:repeat(4,1fr);
    background:var(--glass); backdrop-filter:blur(12px);
    border:2px solid var(--gold); border-radius:18px;
    box-shadow:0 10px 25px rgba(0,0,0,0.22);
    z-index:1100;
  }
  .bn-item{
    display:flex; flex-direction:column; align-items:center; justify-content:center; gap:4px;
    text-decoration:none; color:var(--ink); font-weight:700; font-size:12px; letter-spacing:.2px;
    -webkit-tap-highlight-color:transparent; transition:transform .15s ease;
  }
  .bn-item:active{ transform:translateY(1px); }
  .bn-icon svg{ width:22px; height:22px; fill:#666; transition:transform .2s ease, filter .2s ease, fill .2s ease; }
  .bn-item:hover .bn-icon svg{ filter:drop-shadow(0 0 8px rgba(212,175,55,.5)); transform:translateY(-2px); }

  .bn-item.active .bn-icon svg,
  .bn-item.active .bn-label{ color:var(--gold); fill:var(--gold); }

  /* CTA Devis mis en valeur */
  .bn-cta{
    margin:8px; border-radius:14px;
    background:linear-gradient(90deg,var(--gold),var(--gold2));
    box-shadow:0 0 12px rgba(212,175,55,.55), inset 0 1px 0 rgba(255,255,255,.4);
    color:#fff;
  }
  .bn-cta .bn-icon svg{ fill:#fff; }
  .bn-cta .bn-label{ color:#fff; }

  @media (prefers-reduced-motion: reduce){
    .bn-item,.bn-icon svg{ transition:none !important; }
  }
</style>

<nav class="bottom-nav" role="navigation" aria-label="Navigation inférieure">
  <a href="index.html" class="bn-item" data-route="index.html" aria-label="Accueil">
    <span class="bn-icon" aria-hidden="true">
      <svg viewBox="0 0 24 24"><path d="M12 3 3 11v8a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2v-4h2v4a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2v-8Z"/></svg>
    </span>
    <span class="bn-label">Accueil</span>
  </a>

  <a href="suivi-chantier.html" class="bn-item" data-route="suivi-chantier.html" data-auth="required" aria-label="Suivi du chantier">
    <span class="bn-icon" aria-hidden="true">
      <svg viewBox="0 0 24 24"><path d="M9 7h10v2H9zM9 11h10v2H9zM9 15h10v2H9zM7.5 6 6 7.5 4.5 6 3 7.5 6 10.5 9 7.5z"/></svg>
    </span>
    <span class="bn-label">Suivi</span>
  </a>

  <a href="devis-gratuit.html" class="bn-item bn-cta" data-route="devis-gratuit.html" aria-label="Demander un devis">
    <span class="bn-icon" aria-hidden="true">
      <svg viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><path fill="#fff" d="M14 2v6h6"/><path d="M8 12h6M8 16h8"/></svg>
    </span>
    <span class="bn-label">Devis</span>
  </a>

  <!-- Initialement Se connecter (après login => Profil) -->
  <a href="login.html" class="bn-item" id="bn-profile" data-route="profil.html" aria-label="Profil">
    <span class="bn-icon" aria-hidden="true">
      <svg viewBox="0 0 24 24"><path d="M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5Z"/><path d="M4 20a8 8 0 0 1 16 0v1H4Z"/></svg>
    </span>
    <span class="bn-label" id="bn-profile-label">Se connecter</span>
  </a>
</nav>

<script>
  (function(){
    function getSb(){
      if (window._sb && window._sb.auth && window._sb.auth.getUser) return window._sb;
      return null;
    }

    // Active state
    (function setActive(){
      var path = (location.pathname || "").toLowerCase();
      document.querySelectorAll('.bottom-nav .bn-item').forEach(function(a){
        var route = (a.getAttribute('data-route')||"").toLowerCase();
        if(!route) return;
        if(path.endsWith(route) || (route==='index.html' && (path.endsWith('/') || path===''))){
          a.classList.add('active');
        }
      });
    })();

    // Guard auth for protected links (bottom-nav)
    function guardAuthLink(e){
      var href = e.currentTarget.getAttribute('href');
      var sb = getSb();
      e.preventDefault();
      if(!sb){
        location.href = 'login.html?next='+encodeURIComponent(href);
        return;
      }
      sb.auth.getUser().then(({data:{user}})=>{
        if(user){ location.href = href; }
        else{ location.href = 'login.html?next='+encodeURIComponent(href); }
      }).catch(()=>{ location.href = 'login.html?next='+encodeURIComponent(href); });
    }
    document.querySelectorAll('.bottom-nav .bn-item[data-auth="required"]').forEach(function(a){
      a.addEventListener('click', guardAuthLink);
    });

    // Update profile link based on session
    function updateProfileLink(){
      var a = document.getElementById('bn-profile');
      var lbl = document.getElementById('bn-profile-label');
      var sb = getSb();
      if(!a || !lbl){ return; }
      if(!sb){
        a.setAttribute('href','login.html');
        lbl.textContent = 'Se connecter';
        a.setAttribute('data-auth','required');
        return;
      }
      sb.auth.getUser().then(({data:{user}})=>{
        if(user){
          a.setAttribute('href','profil.html');
          lbl.textContent = 'Profil';
          a.removeAttribute('data-auth');
        }else{
          a.setAttribute('href','login.html');
          lbl.textContent = 'Se connecter';
          a.setAttribute('data-auth','required');
        }
      });
    }
    updateProfileLink();
    var sb = getSb();
    if(sb && sb.auth && sb.auth.onAuthStateChange){ sb.auth.onAuthStateChange(updateProfileLink); }
  })();
</script>
<!-- === /Bottom Nav RENOLIX === -->

</body>
</html>



